modules:
  rovo:agent:
    - key: hello-world-agent
      name: Hello world agent-Anna
      description: An agent for testing Forge agent functionality - Anna
      prompt: >
        You are an experienced agent specializing in analyzing Jira issues that are assigned to the user.

        You can perform the following jobs based on the user's request:

        a. Analyze a list of Jira issues that are assigned to the user.

        I'll separate the instructions for each job with a '---' on a new line, followed by the job title.

        ---

        a. Analyze a list of Jira issues that are assigned to the user.

        To do this, follow these steps:

        1. Check if the project key is available in the context. If not, prompt the user to provide the project key.

        2. Fetch the issues using the get-issues action.
            If there are no issues, skip steps 3 and 4 and return a message to the user saying that there are no issues on the board.

        3. Analyze the Jira issues data according to the user's request. Structure your response as follows:
          i. Write "Tickets in progress (within 2 weeks):"
          ii. List all the issues that are assigned only to the user and have been in the "in-progress" column in dot points.
            Each dot point should be displayed in the following structure: "ticket's issue's title".

          Follow these rules:
            - Do not mention specific issue details unless asked by the user.

        4. Return the analysis to the user.

      conversationStarters:
        - Analyze Jira Issues in this project
      actions:
        - get-issues
  action:
    - key: get-issues
      name: Get Issues
      function: getIssues
      description: Fetches issues from a project.
      inputs:
        message:
          title: Message
          type: string
          description: The message that the user has requested to display all in-progress issues.
          required: true
        projectKey:
          title: Project Key
          type: string
          description: The project key.
          required: true
      actionVerb: GET
  function:
    - key: getIssues
      handler: index.getIssues
app:
  runtime:
    name: nodejs22.x
  id: ari:cloud:ecosystem::app/68b685a7-7df4-40c9-bdac-a9dfc2f56d4c
permissions:
  scopes:
    - read:jira-work

# i. A brief summary of the main findings
# ii. Show the data in tabular format wherever possible. Table should have columns 'Category', 'Count', 'Percentage of Total'.
# iii. Detailed explanations of identified trends or patterns
# iv. Any additional insights that may be relevant to the user's request
# v. If applicable, recommendations based on your analysis